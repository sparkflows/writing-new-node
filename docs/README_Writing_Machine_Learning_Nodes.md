## Writing Machine Learning Nodes

Machine Learning Nodes can generate Models which can be:

* Saved to Disk
* Used for Predictions

Hence it is important to be able to pass the Models generated by one Node to the next Nodes.

## Passing Models to the next Nodes

Models can be passed from one Node to another with the below. This is usually done in the execute() method of the Node where the model is generated.

* passModelToNextNodes(jobContext, ldaModel);

## Using models generated by previous Nodes

A Node can use the Model generated by the previous Node. Model is accessible through the models array variable in the Node class.

* public transient ArrayList<FireMLModel> models = new ArrayList();

```
public class FireMLModel {
    public static final int SPARK_ML = 0;
    public static final int H2O = 1;
    public static final int SAGEMAKER = 2;
    public int type = 0;
    public String uuid = "";
    public Object model = null;

    public FireMLModel(int type, Object model) {
        this.type = type;
        this.model = model;
        this.uuid = UUID.randomUUID().toString();
    }

    public static String getFireModel(int type) {
        return type == 1?"H2O":(type == 2?"SAGEMAKER":"SPARK_ML");
    }
}
```

You can:

* iterate through the ArrayList of models
* check for the Class of each model using instanceof
* Use the model objects of types you are interested in and process them appropriately

